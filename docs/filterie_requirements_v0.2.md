App# Filterie 要件定義書（v0.2）

> **目的**
> *一次情報に素早くアクセスし、別媒体で再利用しやすい形へアウトプットできる“情報濾過ハブ”を提供する。*
> 本書はMVPスコープ（Web & モバイル同時リリース）に絞り、将来のAPI／MCPサーバー展開は参考要件として付記する。

---

## 1. プロダクトビジョン
| 項目 | 内容 |
|------|------|
| 名称 | **Filterie（フィルタリー）** |
| タグライン | 情報を選ぶ。未来を変える。 |
| コアバリュー | ①一次情報へ最速で到達<br>②AIでノイズを除去(フィルタリング)<br>③マルチフォーマット出力で再利用効率を最大化 |
| 主な利用者 | 情報感度の高いビジネスパーソン／マーケター／アナリスト／メディア運営者 |
| 差別化 | 日本語特化のAIフィルタ、エクスポート特化UX「Tray」、親しみやすいブランド体験 |

---

## 2. MVPユーザーストーリー
| As a | I want to | So that |
|------|-----------|---------|
| マーケター | 新着プレスリリースを即取得し、Markdownで自社Notionに貼り付け | SNS投稿案を素早く作成できる |
| ブロガー | RSSで購読した公式発表を要約してXに転用 | 記事ネタを効率的に発信できる |
| 投資家 | 決算短信PDFを自動テキスト抽出し、CSVでダウンロード | 財務モデルに貼り付けて分析できる |
| 学術研究者 | 学会発表のアブストラクトをTrayへ保存しBibTeX出力 | 論文管理ツールに取り込める |

---

## 3. 機能一覧（MVP範囲）
| カテゴリ | 機能 | 説明 |
|----------|------|------|
| **ソース取得** | RSS/Atom取込、WebSub & Curlベース高速ポーリング、メールニュースレター用エイリアス（`@in.filterie.app`） | 一次情報の即時取得 |
| **フィルタAI** | トピック分類、キーワード優先/ミュート、重複排除、要約（BERT日本語＋GPT‑4o） | ノイズ削減＆時短 |
| **Tray（保存ボード）** | 3件(Free)/無制限(Pro) のトレイ。ドラッグ&ドロップで再順序化 | 再利用素材をストック |
| **アウトプット** | ワンクリックで Markdown / HTML / PDF / CSV / OPML / 画像カード をエクスポート | 別媒体での活用促進 |
| **タグマネージャー** | ハッシュタグ入力で自動分類、タグクラウドUI | 大量情報の整理 |
| **検索** | 見出し全文＆タグ検索（Pro）、正規表現 & 時間フィルタ | 過去ネタの高速検索 |
| **マルチデバイス** | PWA＋React Native (Expo) でWeb/iOS/Android同等UX | いつでも読める |
| **共有** | X/Slack/Teams/Notion連携、共有URL(OGP自動生成) | チーム＆SNS連携 |

> **除外（次期）**: 公開REST/GraphQL API、Webhook、MCPサーバー（マルチチャネルパブリッシャー）連携

---

## 4. 非機能要件
| 項目 | MVP目標値 |
|------|-----------|
| 新着遅延 | 平均 < 5分 |
| 同期速度 | 既読 & Tray同期 < 1秒 |
| パフォーマンス | p95 レンダリング < 200 ms（100件リスト） |
| 可用性 | 99.9% / 月 |
| セキュリティ | OAuth2 + 2FA、TLS1.3、OWASP Top10対策 |
| 国際化 | UI日本語／英語切替、コンテンツ多言語要約(β) |

---

## 5. 技術構成（推奨）
| レイヤ | 採用技術（案） |
|--------|---------------|
| クライアント | **Next.js 15 App Router + Expo** (shared codebase) / TypeScript / TailwindCSS / TanStack Query |
| API | **NestJS + Prisma** / GraphQL (Apollo) |
| AI | LangChain (RAG) + OpenAI GPT‑4o / sentence-transformers(Japanese SBERT) |
| データ | PostgreSQL / Redis / Meilisearch |
| 配信基盤 | AWS EKS / SQS / EventBridge / CloudFront |
| CI/CD | GitHub Actions → ArgoCD (GitOps) |
| 観測 | OpenTelemetry / Grafana / Loki |

---

## 6. 画面フロー（主要）
1. **Today**: 優先トピック別カード＋未読数
2. **Feed List**: 表示モード切替（リスト／マガジン）
3. **Article View**: 要約タブ／全文タブ／メタ情報
4. **Tray**: 保存記事のカンバン＆エクスポートボタン
5. **FilterAI設定**: 優先・ミュートキーワードGUI

---

## 7. スケジュール
| フェーズ | 期間 | ゴール |
|----------|------|-------|
| 0. 設計固め | 0–0.5ヶ月 | 本要件Fix、デザインシステム確定 |
| 1. Core MVP | 0.5–3ヶ月 | ソース取得+フィルタAI+Tray+エクスポート |
| 2. Mobile & PWA β | 3–4ヶ月 | Expoビルド配信(iOS/Android TestFlight) |
| 3. Pro課金 & 検索強化 | 4–5ヶ月 | Stripe連携、全文検索GA |
| 4. API & MCP PoC | 5–7ヶ月 | 公開API α、Zapier試験連携 |
| 5. Team機能 | 7–9ヶ月 | チームTray、Slack通知 |

---

## 8. ライセンス&課金モデル（案）
| プラン | 価格(税抜) | 主な制限 |
|--------|-----------|----------|
| Free | ¥0 | ソース100件、Tray3、広告有 |
| Pro | ¥980/月 | ソース2,500件、全文検索、広告無、エクスポート無制限 |
| Team | ¥1,800/ユーザ/月 | 共有Tray、Slack/Teams連携、SSO |
| Enterprise | 見積 | API & MCPサーバー、専任CSM |

---

## 9. 未確定事項・Todo
1. AI要約300トークン/記事のコスト上限
2. 決済通貨（JPY vs USD）
3. PDF → テキスト抽出のライセンス（PDFium or commercial）
4. アプリストア審査ポリシー対応（App内課金）

---

## 付録：ブランド要素マッピング
- **Feature Naming**:
  - AIフィルタ → *FilterAI*
  - 保存ボード → *Tray*
  - 要約ビュー → *Essence View*
- **カラー**: ティールブルー #17A3B8 / アクセント #FFAA5C
- **ロゴ**: 抽象F＋フィルタアイコン（詳細はブランド設計ドキュメント参照）

---

*最終更新: 2025-07-05*
